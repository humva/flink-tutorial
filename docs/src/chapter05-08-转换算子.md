## 转换算子

在这一小节我们将大概看一下DataStream API的基本转换算子。与时间有关的操作符（例如窗口操作符和其他特殊的转换算子）将会在后面的章节叙述。一个流的转换操作将会应用在一个或者多个流上面，这些转换操作将流转换成一个或者多个输出流。编写一个DataStream API简单来说就是将这些转换算子组合在一起来构建一个数据流图，这个数据流图就实现了我们的业务逻辑。

大部分的流转换操作都基于用户自定义函数UDF。UDF函数打包了一些业务逻辑并定义了输入流的元素如何转换成输出流的元素。像`MapFunction`这样的函数，将会被定义为类，这个类实现了Flink针对特定的转换操作暴露出来的接口。

```java
DataStream<String> sensorIds = filteredReadings
        .map(r -> r.id);
```

函数接口定义了需要由用户实现的转换方法，例如上面例子中的`map()`方法。

大部分函数接口被设计为`Single Abstract Method`（单独抽象方法）接口，并且接口可以使用Java 8匿名函数来实现。Scala DataStream API也内置了对匿名函数的支持。当讲解DataStream API的转换算子时，我们展示了针对所有函数类的接口，但为了简洁，大部分接口的实现使用匿名函数而不是函数类的方式。

DataStream API针对大多数数据转换操作提供了转换算子。如果你很熟悉批处理API、函数式编程语言或者SQL，那么你将会发现这些API很容易学习。我们会将DataStream API的转换算子分成四类：

* 基本转换算子：将会作用在数据流中的每一条单独的数据上。
* KeyedStream转换算子：在数据有key的情况下，对数据应用转换算子。
* 多流转换算子：合并多条流为一条流或者将一条流分割为多条流。
* 分布式转换算子：将重新组织流里面的事件。

